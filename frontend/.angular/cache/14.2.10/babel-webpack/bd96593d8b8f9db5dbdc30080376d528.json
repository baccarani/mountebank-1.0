{"ast":null,"code":"import { AddDependencyComponent } from '../add-dependency/add-dependency.component';\nimport * as ImposterActions from '../store/imposter.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"../services/imposter.service\";\nimport * as i4 from \"@ngrx/store\";\nimport * as i5 from \"@angular/cdk/clipboard\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/menu\";\n\nfunction HomeComponent_tr_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_31_Template_a_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const imposter_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onViewImposter(imposter_r2.port));\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"div\", 13)(12, \"mat-icon\", 14);\n    i0.ɵɵtext(13, \"more_horiz\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"mat-menu\", null, 15)(16, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_31_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const imposter_r2 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onViewImposter(imposter_r2.port));\n    });\n    i0.ɵɵelementStart(17, \"mat-icon\");\n    i0.ɵɵtext(18, \"visibility\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \" View \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_31_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const imposter_r2 = restoredCtx.$implicit;\n      const i_r3 = restoredCtx.index;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.onDeleteImposter(imposter_r2.port, i_r3));\n    });\n    i0.ɵɵelementStart(21, \"mat-icon\");\n    i0.ɵɵtext(22, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \" Delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_31_Template_button_click_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const imposter_r2 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.openPostman(imposter_r2.name));\n    });\n    i0.ɵɵelementStart(25, \"mat-icon\");\n    i0.ɵɵtext(26, \"open_in_new\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \" Open in Postman \");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const imposter_r2 = ctx.$implicit;\n\n    const _r4 = i0.ɵɵreference(15);\n\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(imposter_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(imposter_r2.protocol);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(imposter_r2.port);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(imposter_r2.numberOfRequests);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r4);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"color\": a0\n  };\n};\n\nfunction HomeComponent_button_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function HomeComponent_button_37_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onCopyJSON());\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(3, _c0, ctx_r1.copyJSONButtonColor));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.iconJSONName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.copyJSONButtonText);\n  }\n}\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(http, matDialogModule, imposterService, store, clipboard) {\n      this.http = http;\n      this.matDialogModule = matDialogModule;\n      this.imposterService = imposterService;\n      this.store = store;\n      this.clipboard = clipboard;\n      this.imposterArray = [];\n      this.viewDependency = '';\n      this.viewDependencyName = '';\n      this.isCopyAll = false;\n      this.copyAllButtonText = 'Copy All';\n      this.copyJSONButtonText = 'Copy JSON';\n      this.iconName = 'file_copy';\n      this.iconJSONName = 'file_copy';\n      this.copyAllButtonColor = 'black';\n      this.copyJSONButtonColor = 'black';\n    }\n\n    ngOnInit() {\n      // use services to load data and state\n      this.imposterService.onGetImposter().subscribe(data => {\n        this.imposterArray = data;\n      }); // use store and dispatch to load imposters with http\n\n      this.store.dispatch(new ImposterActions.AddImposter(this.imposterArray)); // get initial state from ngrx\n\n      let x = this.store.select('imposter');\n      x.subscribe(data => {});\n    }\n\n    onViewImposter(data) {\n      this.imposterService.onViewImposter(data).subscribe(responseData => {\n        this.viewDependency = responseData;\n        this.viewDependencyName = this.viewDependency.name;\n      });\n    }\n\n    onAddImposter() {\n      this.matDialogModule.open(AddDependencyComponent);\n    }\n\n    onDeleteImposter(port, index) {\n      this.imposterService.onDeleteImposter(port, index);\n      this.viewDependency = '';\n      this.viewDependencyName = '';\n    }\n\n    onCopyJSON() {\n      this.clipboard.copy(JSON.stringify(this.viewDependency));\n      this.copyJSONButtonText = 'Copied!';\n      this.iconJSONName = 'done';\n      this.copyJSONButtonColor = 'green';\n      setTimeout(() => {\n        this.copyJSONButtonText = 'Copy JSON';\n        this.iconJSONName = 'file_copy';\n        this.copyJSONButtonColor = 'black';\n      }, 2000);\n    }\n\n    onCopyAll() {\n      this.clipboard.copy(JSON.stringify(this.imposterArray));\n      this.copyAllButtonText = 'Copied!';\n      this.iconName = 'done';\n      this.copyAllButtonColor = 'green';\n      setTimeout(() => {\n        this.copyAllButtonText = 'Copy All';\n        this.iconName = 'file_copy';\n        this.copyAllButtonColor = 'black';\n      }, 2000);\n    }\n\n    openPostman(data) {\n      console.log('clicked'); // window.open('postman://app', '_blank');\n      //response for selected imposter\n      // this.imposterService.onViewImposter(data).subscribe((res) => {\n      //   console.log(res);\n      // });\n\n      this.imposterService.onExportImposter(6001);\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.ImposterService), i0.ɵɵdirectiveInject(i4.Store), i0.ɵɵdirectiveInject(i5.Clipboard));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 41,\n    vars: 11,\n    consts: [[2, \"margin\", \"auto\", \"width\", \"80%\"], [2, \"font-weight\", \"bold\", \"font-size\", \"xx-large\"], [1, \"btn\", \"btn-primary\", \"add-dependency-button\", 2, \"display\", \"inline-flex\", \"align-items\", \"center\", \"padding-left\", \"0\", \"padding-left\", \"5px\", \"margin-right\", \"15px\", 3, \"click\"], [2, \"padding-right\", \"30px\", \"padding-left\", \"0\"], [1, \"btn\", \"btn-default\", 2, \"display\", \"inline-flex\", \"align-items\", \"center\", \"padding-left\", \"0\", \"padding-left\", \"5px\", 3, \"click\"], [2, \"padding-right\", \"30px\", \"padding-left\", \"0\", \"transform\", \"scale(.8)\", 3, \"ngStyle\"], [2, \"overflow-x\", \"auto\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [2, \"font-weight\", \"bold\"], [2, \"position\", \"relative\"], [\"class\", \"btn btn-default copy-button\", \"style\", \"position: absolute; top: 0; right: 0; display: flex; align-items: center; background: transparent; border: none; padding-bottom: 15px;\", 3, \"click\", 4, \"ngIf\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [3, \"matMenuTriggerFor\"], [\"role\", \"button\", 1, \"dropdown-toggle\", 2, \"cursor\", \"pointer\"], [\"menu\", \"matMenu\"], [\"mat-menu-item\", \"\", 3, \"click\"], [1, \"btn\", \"btn-default\", \"copy-button\", 2, \"position\", \"absolute\", \"top\", \"0\", \"right\", \"0\", \"display\", \"flex\", \"align-items\", \"center\", \"background\", \"transparent\", \"border\", \"none\", \"padding-bottom\", \"15px\", 3, \"click\"], [2, \"padding-top\", \"5px\", \"transform\", \"scale(.8)\", 3, \"ngStyle\"], [2, \"padding-top\", \"5px\", \"padding-left\", \"5px\", \"padding-right\", \"5px\", \"font-family\", \"monospace\", \"font-size\", \"14px\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n        i0.ɵɵtext(2, \"Environment Simulator Tool\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\");\n        i0.ɵɵtext(4, \"Add dependencies to create mock API services that simulate requests/responses for integration development and testing.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵelementStart(6, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_6_listener() {\n          return ctx.onAddImposter();\n        });\n        i0.ɵɵelementStart(7, \"mat-icon\", 3);\n        i0.ɵɵtext(8, \"add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(9, \"Add Dependency\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_10_listener() {\n          return ctx.onCopyAll();\n        });\n        i0.ɵɵelementStart(11, \"mat-icon\", 5);\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"br\")(15, \"br\");\n        i0.ɵɵelementStart(16, \"div\", 6)(17, \"table\", 7)(18, \"thead\")(19, \"tr\")(20, \"th\");\n        i0.ɵɵtext(21, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"th\");\n        i0.ɵɵtext(23, \"Protocol\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\");\n        i0.ɵɵtext(25, \"Port\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"th\");\n        i0.ɵɵtext(27, \"# of Requests\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"th\");\n        i0.ɵɵtext(29, \"More\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(30, \"tbody\");\n        i0.ɵɵtemplate(31, HomeComponent_tr_31_Template, 28, 5, \"tr\", 8);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(32, \"br\");\n        i0.ɵɵelementStart(33, \"div\", 9);\n        i0.ɵɵtext(34);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"br\");\n        i0.ɵɵelementStart(36, \"div\", 10);\n        i0.ɵɵtemplate(37, HomeComponent_button_37_Template, 5, 5, \"button\", 11);\n        i0.ɵɵelementStart(38, \"pre\");\n        i0.ɵɵtext(39);\n        i0.ɵɵpipe(40, \"json\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(9, _c0, ctx.copyAllButtonColor));\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.iconName);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.copyAllButtonText);\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngForOf\", ctx.imposterArray);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" Request Stub: \", ctx.viewDependency.name, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.viewDependency);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(40, 7, ctx.viewDependency));\n      }\n    },\n    dependencies: [i6.NgForOf, i6.NgIf, i6.NgStyle, i7.MatIcon, i8.MatMenu, i8.MatMenuItem, i8.MatMenuTrigger, i6.JsonPipe],\n    styles: [\".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media screen and (max-width: 396px){.add-dependency-button[_ngcontent-%COMP%]{margin-bottom:15px}}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}